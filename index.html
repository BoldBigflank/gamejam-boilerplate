<style>body{margin:0;text-align:center;background:#000;touch-action:none}</style><canvas id="c"></canvas><script>!function(){var e=function(){return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,n){var t=[],o=!0,a=!1,i=void 0;try{for(var r,c=e[Symbol.iterator]();!(o=(r=c.next()).done)&&(t.push(r.value),!n||t.length!==n);o=!0);}catch(e){a=!0,i=e}finally{try{!o&&c.return&&c.return()}finally{if(a)throw i}}return t}(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),n=window,t=document,o=0,a=1,i=2,r=o,s=void 0,h=void 0,m=void 0,v=c.getContext("2d"),f=320,A=240,u=c.cloneNode().getContext("2d"),l=c.cloneNode(),w=l.getContext("2d"),g="abcdefghijklmnopqrstuvwxyz0123456789.:!-%,/",d=0,y=1,p=2,b={hero:{move:[{x:0,y:0,w:16,h:18},{x:16,y:0,w:16,h:18},{x:32,y:0,w:16,h:18},{x:48,y:0,w:16,h:18},{x:64,y:0,w:16,h:18}],speed:100}},k=8,X=.1,Y="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAVgAAAAICAYAAAC8lecDAAACCUlEQVR42uVa2WoDMQxc6Fvf+v8fmzYlC5vFOmZGsl26EILjlSzrGMuKjq/Pjwf7OV6PN8/SIjJk56rWZOW5y4HKMqKx+GRs48mh0u/4ye6pgmdGP4osGVkRX2R1we7/KH4U/pn4YmX5HVjP+VLH/NUBZq0fjSvWj/iPADZLPxpbOoz0e3eoavoO+6weIzqq0i8yn/WN6J2Mbav2XwmwDO+TztKnLAcaAN0AdP39PwJshf7+6vwKgFxFjyQYUZx4vsHE1z0DrrSfArJeVukBYybDjw6aaH2TvsNBPANWAITF31Jk5gQe8RkZqAKAFYDdOQPsDlCGPuOjqH9E2R8aP1kAZeTP8MgCvOX/Ix4/W0vFf1WGGgFslEEjcRqt//bO7AymM4NlADACWJa/F4DeAXH/3jUDiwAIOQgr/MvSY8UV1rIhkoGyWSQLwKz9UZDx/OUE2ch/kAyRmWfsqwD42/zsK3ZnBsvUMGeXSBT9VK6fqfFVXHEjB1VrfKr+Vflml6CQOKjwP0U/1ywWATkU4NQSgZc0ePXaFDivchAlQHYIAPWKyAKs8ieX18nQVWNkr3AdAGvpb+cDgNGvmqFX2O8Jrl1XcGYeKT14QIrKLbUxrWzTQovYShsO2p4ys80IbbPJtrkorT9Mm47SBqTYv7tNqdsXojawqjaq7vnOEkG6pcrhk9nXiP834OoPrkvjIKMAAAAASUVORK5CYII=",x="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAASCAYAAADMgVnKAAABLElEQVR42u2WwQ3CMAxFK7EF4sIESBGHHLixBJxhjK7AAkyDxCrsUcjBUlQ5JP42baJSyafGbv6L892uW9iz3h+GEN1fOFZjeznXD9DylI+b02AhPNShqBqg1SnHglHhXI0QVXcfCbUCeNv1YuEcNKTObAC1G6X81/UOwQt5FAFcM/BiAVqAJB4FSODiGhYAfz7F0c7JASytRdd1nGsFT+zvRLw0SdM9YwgIAM7zkH2kBpBomBFxCXWuAywmsHaIIP7LeahID0I9dYW0EKf2cJWHasa/xfWZewimPDSrI17ImXgJiJQHtQQQaoLU/xNyEq12n8pDubufgtcilElb9xu4EoDe+0cc6J60+drvijTQwhy4XEHu4wgEy3wtvBDOuefn9QpKlopZUge+AaGKTZOj0RYuAAAAAElFTkSuQmCC",D=void 0,E=void 0,I=void 0,S=void 0,F=!0;function O(e){e.frameTime+=E,e.frameTime>X&&(e.frameTime-=X,e.frame+=1,e.frame%=b[e.type][e.action].length);var n=e.speed*E;e.x+=n*e.moveX,e.y+=n*e.moveY}function K(){var e,n;s=60,n=b[e="hero"].move[0],h={action:"move",frame:0,frameTime:0,moveX:0,moveY:0,speed:b[e].speed,type:e,x:(f-n.w)/2,y:(A-n.h)/2},m=[h],r=a}function P(){switch(w.fillStyle="#fff",w.fillRect(0,0,f,A),r){case o:Q("title screen",k,k),Q("press any key",f/2,A/2,y);break;case a:Q("game screen",k,k),u=Math.floor(Math.ceil(s)/60),g=Math.ceil(s)-60*u,Q(u+":"+(g<=9?"0":"")+g,f-k,k,p),e=H/innerWidth*f,n=U/innerWidth*f,t=q/innerHeight*A,h=C/innerHeight*A,V(e,e,0,A,"#f00"),V(n,n,0,A,"#ff0"),V(0,f,t,t,"#f00"),V(0,f,h,h,"#ff0"),m.forEach(G);break;case i:Q("end screen",k,k)}var e,n,t,h,u,g;v.drawImage(l,0,0,f,A,0,0,c.width,c.height)}function G(e){var n=b[e.type][e.action][e.frame];w.drawImage(x,n.x,n.y,n.w,n.h,Math.round(e.x),Math.round(e.y),n.w,n.h)}function Q(e,n,t){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:d,a=(arguments.length>4&&void 0!==arguments[4]?arguments[4]:1)*k,i=e.length*a,r=o===p?i:o===y?i/2:0;e.split("").forEach(function(e,o){w.drawImage(Y,g.indexOf(e)*k,0,k,k,n+o*a-r,t,a,a)})}function j(){F&&(S=requestAnimationFrame(j),P(),D=Date.now(),E=(D-I)/1e3,function(){switch(r){case a:(s-=E)<0&&(r=i),m.forEach(O)}}(),I=D)}function T(e){(F=e)?(I=Date.now(),j()):cancelAnimationFrame(S)}function W(e){return new Promise(function(n){var t=new Image;t.onload=function(){n(t)},t.src=e})}onload=function(e){t.title="Game Jam Boilerplate",onresize(),Promise.all([W(Y).then(function(e){Y=e}),W(x).then(function(e){x=e})]).then(function(){T(!0)})},onresize=n.onrotate=function(){l.width=f,l.height=A;var e=Math.min(innerWidth/f,innerHeight/A);c.width=f*e,c.height=A*e,[v,u,w].forEach(function(e){e.msImageSmoothingEnabled=e.imageSmoothingEnabled=!1})},t.onvisibilitychange=function(e){T(!e.target.hidden)},onkeydown=function(e){if(e.preventDefault(),!e.repeat)switch(r){case a:switch(e.which){case 37:case 65:case 81:h.moveX=-1;break;case 38:case 90:case 87:h.moveY=-1;break;case 39:case 68:h.moveX=1;break;case 40:case 83:h.moveY=1;break;case 80:T(!F)}}},onkeyup=function(e){switch(r){case o:K();break;case a:switch(e.which){case 37:case 65:case 81:h.moveX=0;break;case 38:case 90:case 87:h.moveY=0;break;case 39:case 68:h.moveX=0;break;case 40:case 83:h.moveY=0}break;case i:switch(e.which){case 84:open("https://twitter.com/intent/tweet?text=viral%20marketing%20message%20https%3A%2F%2Fgoo.gl%2Fsome tiny Google url here","_blank");break;default:r=o}}};var U=0,C=0,H=0,q=0,B=20;function M(e){return[e.pageX||e.changedTouches[0].pageX,e.pageY||e.changedTouches[0].pageY]}function V(e,n,t,o,a){w.strokeStyle=a,w.beginPath(),w.moveTo(e,t),w.lineTo(n,o),w.stroke(),w.closePath()}n.ontouchstart=n.onpointerdown=function(n){var t,o;switch(n.preventDefault(),r){case a:var i=(t=M(n),o=e(t,2),U=o[0],C=o[1],t),c=e(i,2);H=c[0],q=c[1]}},n.ontouchmove=n.onpointermove=function(n){switch(n.preventDefault(),r){case a:U&&C&&function(n){var t=e(n,2),o=t[0],a=t[1];o>H?(H=o)-U>B&&(h.moveX=1):o<U?H-(U=o)>B&&(h.moveX=-1):o<H&&h.moveX>0?(U=o,h.moveX=0):U<o&&h.moveX<0&&(H=o,h.moveX=0);a>q?(q=a)-C>B&&(h.moveY=1):a<C?q-(C=a)>B&&(h.moveY=-1):a<q&&h.moveY>0?(C=a,h.moveY=0):C<a&&h.moveY<0&&(q=a,h.moveY=0)}(M(n))}},n.ontouchend=n.onpointerup=function(e){switch(e.preventDefault(),r){case o:K();break;case a:h.moveX=h.moveY=0,U=C=H=q=0;break;case i:r=o}}}();
</script>